{"version":3,"sources":["lib/utils.ts","lib/dragger/index.tsx","lib/util/collison.ts","lib/util/correction.ts","lib/gridItem.tsx","lib/util/sort.ts","lib/util/compact.ts","lib/util/initiate.ts","lib/dragact.tsx","layout/NormalLayout/largedata.ts","layout/NormalLayout/index.tsx","layout/LayoutRestore/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["int","number","parseInt","innerWidth","node","width","clientWidth","computedStyle","style","paddingLeft","paddingRight","outerWidth","borderLeftWidth","borderRightWidth","innerHeight","height","clientHeight","paddingTop","paddingBottom","outerHeight","borderTopWidth","borderBottomWidth","parseBounds","bounds","left","top","right","bottom","doc","Dragger","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","parent","self","Ref","mQue","_ismounted","state","x","y","originX","originY","isUserMove","lastX","lastY","zIndex","w","h","lastW","lastH","originalEvent","move","event","deltaX","deltaY","_this$state","type","indexOf","clientX","clientY","touches","NewBounds","grid","Array","isArray","length","Math","round","marginLeft","offsetLeft","marginTop","offsetTop","marginRight","marginBottom","min","max","allowX","allowY","getClientRects","fixY","onMove","setState","moveDebounce","_this$state2","abs","removeEventListener","onDragEndDebounce","onDragStart","onDragStartDebounce","persist","addEventListener","body","userSelect","onDragEnd","currentTarget","offsetParent","onResizeStart","onResizeEnd","onResizing","stopPropagation","movePerFrame","delt","requestAnimationFrame","mixin","dragMix","onMouseDown","onTouchStart","onTouchEnd","onMouseUp","resizeMix","inherits","createClass","key","value","document","nextProps","_this2","_this$state3","_this$mixin","provided","objectSpread","touchAction","transform","concat","ref","children","React","defaultProps","collision","a","b","GridX","GridY","getFirstCollison","layout","item","i","layoutCheck","caches","_layoutCheck","layoutItem","fristItemkey","moving","movedItem","newlayout","map","idx","static","push","offsetY","newItem","c","checkInContainer","col","correctItem","_checkInContainer","correctLayout","copy","toConsumableArray","UniqueKey","GridItem","wPx","hPx","_this$props","_this$calPxToWH","calPxToWH","_this$props2","_this$calPxToWH2","_this$props3","onDrag","bind","assertThisInitialized","calGridXY","calColWidth","_this$props4","containerWidth","containerPadding","margin","_this$props5","rowHeight","_this$props6","isUpdate","keys","forEach","calWidth","newW","newH","checkWidthHeight","_this$props7","_this$calGridXY","_this$calGridXY2","_this$props8","_this$calGridXY3","_this$props9","_this3","_this$props10","handle","canDrag","canResize","_this$calGridItemPosi","calGridItemPosition","_this$calWHtoPx","calWHtoPx","react","dragger_Dragger","position","transition","dragType","draggerProps","resizerProps","getMaxContainerHeight","lastOneYNH","elementHeight","arguments","undefined","elementMarginBottom","currentHeight","currentLastOne","ar","quickSort","slice","filter","compactItem","finishedLayout","FirstCollison","compactLayout","_cache","movingItem","mapedLayout","compacted","mapLayout","sorted","sort","sortLayout","needCompact","compareList","finished","syncLayout","Dragact","GridXMoving","GridYMoving","wMoving","hMoving","placeholderShow","placeholderMoving","newLayout","_compactLayout","containerHeight","_compactLayout2","recalculateLayout","corrected","_compactLayout3","bundles","_compactLayout4","_compactLayout5","padding","placeholder","gridItem_GridItem","background","p","mapLayoutCopy","child","copyed","others","objectWithoutProperties","_compactLayout6","v","_compactLayout7","setTimeout","index","renderItem","assign","GridItemProvided","dragHandle","resizeHandle","isDragging","source","join","_this4","className","getGridItem","renderPlaceholder","Words","content","fakeData","Y","Card","_ref","textAlign","color","borderBottom","cursor","borderRight","storeLayout","LayoutRestore","anchorEl","mobileMoreAnchorEl","dragactNode","handleProfileMenuOpen","handleMenuClose","handleMobileMenuClose","handleMobileMenuOpen","handleOnDragEnd","getLayout","parsedLayout","JSON","stringify","localStorage","setItem","renderDragact","dragactInit","dragact_Dragact","NormalLayout_Card","lastLayout","getItem","parse","classes","isMenuOpen","Boolean","isMobileMenuOpen","renderMenu","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","MenuItem_default","onClick","renderMobileMenu","IconButton_default","Badge_default","badgeContent","Mail_default","Notifications_default","AccountCircle_default","display","justifyContent","flexDirection","root","AppBar_default","Toolbar_default","menuButton","aria-label","icons_Menu_default","Typography_default","title","variant","noWrap","search","searchIcon","Search_default","InputBase_default","inputRoot","input","inputInput","grow","sectionDesktop","aria-owns","aria-haspopup","sectionMobile","MoreVert_default","propTypes","PropTypes","object","isRequired","withStyles","theme","createStyles","flexGrow","defineProperty","breakpoints","up","borderRadius","shape","backgroundColor","fade","palette","common","white","&:hover","spacing","unit","pointerEvents","alignItems","transitions","create","App","react_default","createElement","src_layout_LayoutRestore","Component","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3c76a475.chunk.js","sourcesContent":["export const int = (number: string | null) => {\r\n    if (number === '' || number === null) {\r\n        return 0\r\n    }\r\n    return parseInt(number, 10)\r\n}\r\nexport const innerWidth = (node: HTMLElement) => {\r\n    let width = node.clientWidth;\r\n    const computedStyle = node.style;\r\n\r\n    width -= int(computedStyle.paddingLeft);\r\n    width -= int(computedStyle.paddingRight);\r\n    return width;\r\n}\r\n\r\nexport const outerWidth = (node: HTMLElement) => {\r\n    let width = node.clientWidth;\r\n    const computedStyle = node.style\r\n    width += int(computedStyle.borderLeftWidth);\r\n    width += int(computedStyle.borderRightWidth);\r\n    return width;\r\n}\r\n\r\nexport const innerHeight = (node: HTMLElement) => {\r\n    let height = node.clientHeight;\r\n    const computedStyle = node.style\r\n    height -= int(computedStyle.paddingTop);\r\n    height -= int(computedStyle.paddingBottom);\r\n    return height;\r\n}\r\n\r\nexport const outerHeight = (node: HTMLElement) => {\r\n    let height = node.clientHeight;\r\n    const computedStyle = node.style\r\n    height += int(computedStyle.borderTopWidth);\r\n    height += int(computedStyle.borderBottomWidth);\r\n    return height;\r\n}\r\n\r\nexport interface Bound {\r\n    left: number,\r\n    top: number,\r\n    right: number,\r\n    bottom: number\r\n}\r\nexport const parseBounds = (bounds: Bound) => {\r\n    return {\r\n        left: bounds.left,\r\n        top: bounds.top,\r\n        right: bounds.right,\r\n        bottom: bounds.bottom\r\n    }\r\n}\r\n\r\nexport const isNumber = (things: any) => {\r\n    return typeof things === 'number' ? true : false\r\n}\r\n\r\nexport const getDataSet = (children: any[]) => {\r\n    return children.map((child) => {\r\n        return { ...child.props['data-set'], isUserMove: true, key: child.key, }\r\n    })\r\n}\r\n\r\nexport const stringJoin = (source: string, join: string) => {\r\n    return source + (join ? ` ${join}` : '')\r\n}\r\n","import * as React from 'react'\r\nimport {\r\n    int,\r\n    innerHeight,\r\n    innerWidth,\r\n    outerHeight,\r\n    outerWidth,\r\n    parseBounds\r\n} from '../utils'\r\nimport { DraggerProps } from './type'\r\n\r\nlet doc: any = null\r\n\r\nexport class Dragger extends React.Component<DraggerProps, {}> {\r\n    parent: any\r\n    self: any\r\n    Ref: any\r\n    mQue: number = 0\r\n    _ismounted: Boolean = false\r\n\r\n    constructor(props: DraggerProps) {\r\n        super(props)\r\n        // this.move = this.move.bind(this)\r\n        // this.onDragEnd = this.onDragEnd.bind(this)\r\n        this.parent = null\r\n        this.self = null\r\n    }\r\n    /**\r\n     * 初始变量设置\r\n     */\r\n    static defaultProps = {\r\n        allowX: true,\r\n        allowY: true,\r\n        isUserMove: true\r\n    }\r\n\r\n    state = {\r\n        /** x轴位移，单位是px */\r\n        x: this.props.x || 0,\r\n\r\n        /** y轴位移，单位是px */\r\n        y: this.props.y || 0,\r\n\r\n        /**鼠标点击元素的原始位置，单位是px */\r\n        originX: 0,\r\n        originY: 0,\r\n\r\n        isUserMove: true,\r\n\r\n        /**已经移动的位移，单位是px */\r\n        lastX: 0,\r\n        lastY: 0,\r\n\r\n        /**堆叠的层级 */\r\n        zIndex: 1,\r\n\r\n        w: this.props.w || 0,\r\n        h: this.props.h || 0,\r\n\r\n        lastW: 0,\r\n        lastH: 0,\r\n\r\n        originalEvent: null\r\n    }\r\n\r\n    move = (event: any) => {\r\n        let { lastX, lastY } = this.state\r\n        /*  event.client - this.state.origin 表示的是移动的距离,\r\n        *   elX表示的是原来已经有的位移\r\n        */\r\n\r\n        let deltaX, deltaY\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            deltaX = (event as MouseEvent).clientX - this.state.originX + lastX\r\n            deltaY = (event as MouseEvent).clientY - this.state.originY + lastY\r\n        } else {\r\n            deltaX =\r\n                (event as TouchEvent).touches[0].clientX -\r\n                this.state.originX +\r\n                lastX\r\n            deltaY =\r\n                (event as TouchEvent).touches[0].clientY -\r\n                this.state.originY +\r\n                lastY\r\n        }\r\n\r\n        const { bounds } = this.props\r\n        if (bounds) {\r\n            /**\r\n             * 如果用户指定一个边界，那么在这里处理\r\n             */\r\n            let NewBounds =\r\n                typeof bounds !== 'string' ? parseBounds(bounds) : bounds\r\n\r\n            /**\r\n             * 网格式移动范围设定，永远移动 n 的倍数\r\n             * 注意:设定移动范围的时候，一定要在判断bounds之前，否则会造成bounds不对齐\r\n             */\r\n            const { grid } = this.props\r\n            if (Array.isArray(grid) && grid.length === 2) {\r\n                deltaX = Math.round(deltaX / grid[0]) * grid[0]\r\n                deltaY = Math.round(deltaY / grid[1]) * grid[1]\r\n            }\r\n\r\n            if (this.props.bounds === 'parent') {\r\n                NewBounds = {\r\n                    left:\r\n                        int(this.parent.style.paddingLeft) +\r\n                        int(this.self.style.marginLeft) -\r\n                        this.self.offsetLeft,\r\n                    top:\r\n                        int(this.parent.style.paddingTop) +\r\n                        int(this.self.style.marginTop) -\r\n                        this.self.offsetTop,\r\n                    right:\r\n                        innerWidth(this.parent) -\r\n                        outerWidth(this.self) -\r\n                        this.self.offsetLeft +\r\n                        int(this.parent.style.paddingRight) -\r\n                        int(this.self.style.marginRight),\r\n                    bottom:\r\n                        innerHeight(this.parent) -\r\n                        outerHeight(this.self) -\r\n                        this.self.offsetTop +\r\n                        int(this.parent.style.paddingBottom) -\r\n                        int(this.self.style.marginBottom)\r\n                }\r\n            }\r\n\r\n            /**\r\n             * 保证不超出右边界和底部\r\n             * keep element right and bot can not cross the bounds\r\n             */\r\n            if (NewBounds !== 'parent')\r\n                deltaX = Math.min(deltaX, NewBounds.right)\r\n            if (NewBounds !== 'parent')\r\n                deltaY = Math.min(deltaY, NewBounds.bottom)\r\n\r\n            /**\r\n             * 保证不超出左边和上边\r\n             * keep element left and top can not cross the bounds\r\n             */\r\n            if (NewBounds !== 'parent')\r\n                deltaX = Math.max(deltaX, NewBounds.left)\r\n            if (NewBounds !== 'parent') deltaY = Math.max(deltaY, NewBounds.top)\r\n        }\r\n\r\n        /**如果设置了x,y限制 */\r\n        deltaX = this.props.allowX ? deltaX : 0\r\n        deltaY = this.props.allowY ? deltaY : 0\r\n\r\n        /**\r\n         * 调整手感\r\n         * 无论是向上移动还是向下移动，全部都是根据重力中心\r\n         * */\r\n        const height = (this.Ref as HTMLDivElement).getClientRects()[0].height\r\n        const upNdown = this.state.y - deltaY\r\n        const fixY = deltaY + (upNdown >= 0 ? 0 : height / 2)\r\n        /**移动时回调，用于外部控制 */\r\n        if (this.props.onMove) this.props.onMove(event, deltaX, fixY)\r\n\r\n        this.setState({\r\n            x: deltaX,\r\n            y: deltaY\r\n        })\r\n    }\r\n\r\n    moveDebounce = (event: any) => {\r\n        let { lastX, lastY } = this.state\r\n        /*  event.client - this.state.origin 表示的是移动的距离,\r\n        *   elX表示的是原来已经有的位移\r\n        */\r\n\r\n        let deltaX, deltaY\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            deltaX = (event as MouseEvent).clientX - this.state.originX + lastX\r\n            deltaY = (event as MouseEvent).clientY - this.state.originY + lastY\r\n        } else {\r\n            deltaX =\r\n                (event as TouchEvent).touches[0].clientX -\r\n                this.state.originX +\r\n                lastX\r\n            deltaY =\r\n                (event as TouchEvent).touches[0].clientY -\r\n                this.state.originY +\r\n                lastY\r\n        }\r\n\r\n        /*\r\n         * Remove Debounce event listeners and add legitimate ones\r\n         * after 10 pixels motion\r\n         */\r\n        if((Math.abs(deltaX) + Math.abs(deltaY)) > 10) {\r\n            // Remove debounce event listeners\r\n            if (event.type.indexOf('mouse') >= 0) {\r\n                doc.removeEventListener('mousemove', this.moveDebounce)\r\n                doc.removeEventListener('mouseup', this.onDragEndDebounce)\r\n            } else {\r\n                doc.removeEventListener('touchmove', this.moveDebounce)\r\n                doc.removeEventListener('touchend', this.onDragEndDebounce)\r\n            }\r\n            // Initiate real dragStart with original event\r\n            this.onDragStart(this.state.originalEvent);\r\n\r\n            // Trigger real movement with current event\");\r\n            this.move(event);\r\n        }\r\n    }\r\n\r\n    // Saves initial state and event, but add event listeners for debounce only\r\n    onDragStartDebounce = (event: any) => {\r\n        let originX, originY\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            originX = (event as MouseEvent).clientX\r\n            originY = (event as MouseEvent).clientY\r\n        } else {\r\n            originX = (event as TouchEvent).touches[0].clientX\r\n            originY = (event as TouchEvent).touches[0].clientY\r\n        }\r\n        event.persist();\r\n        this.setState({\r\n            originalEvent: event,\r\n            originX: originX,\r\n            originY: originY,\r\n            lastX: this.state.x,\r\n            lastY: this.state.y,\r\n            zIndex: 10\r\n        })\r\n        // Add event listeners at the end to prevent firing them before\r\n        // having the original event saved into state\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            doc.addEventListener('mousemove', this.moveDebounce)\r\n            doc.addEventListener('mouseup', this.onDragEndDebounce)\r\n        } else {\r\n            doc.addEventListener('touchmove', this.moveDebounce)\r\n            doc.addEventListener('touchend', this.onDragEndDebounce)\r\n        }\r\n    }\r\n\r\n    // Cleans debounce events\r\n    onDragEndDebounce = (event: any) => {\r\n        /** 取消用户选择限制，用户可以重新选择 */\r\n        doc.body.style.userSelect = ''\r\n        this.parent = null\r\n        this.self = null\r\n\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            // Remove debounce event listeners\");\r\n            doc.removeEventListener('mousemove', this.moveDebounce)\r\n            doc.removeEventListener('mouseup', this.onDragEndDebounce)\r\n        } else {\r\n            doc.removeEventListener('touchmove', this.moveDebounce)\r\n            doc.removeEventListener('touchend', this.onDragEndDebounce)\r\n        }\r\n        this.setState({\r\n            originalEvent: null\r\n        })\r\n    }\r\n\r\n    onDragStart = (event: any) => {\r\n        /** 保证用户在移动元素的时候不会选择到元素内部的东西 */\r\n        doc.body.style.userSelect = 'none'\r\n\r\n        // if (event.target.id !== 'dragact-handle') return\r\n\r\n        /**\r\n         * 把监听事件的回掉函数，绑定在document上\r\n         * 当设置边界的时候，用户鼠标会离开元素的范围\r\n         * 绑定在document上可以使得其依旧能够监听\r\n         * 如果绑定在元素上，则鼠标离开元素，就不会再被监听了\r\n         */\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            doc.addEventListener('mousemove', this.move)\r\n            doc.addEventListener('mouseup', this.onDragEnd)\r\n        } else {\r\n            doc.addEventListener('touchmove', this.move)\r\n            doc.addEventListener('touchend', this.onDragEnd)\r\n        }\r\n\r\n        if (\r\n            this.props.bounds === 'parent' &&\r\n            /**为了让 这段代码不会重复执行 */\r\n            (typeof this.parent === 'undefined' || this.parent === null)\r\n        ) {\r\n            /**\r\n             * 在这里我们将父节点缓存下来，保证当用户鼠标离开拖拽区域时，我们仍然能获取到父节点\r\n             * what we do here is\r\n             * making sure that we still can retrieve our parent when user's mouse left this node.\r\n             */\r\n\r\n            this.parent = (event as any).currentTarget.offsetParent //todo\r\n\r\n            /**\r\n             * 我们自己\r\n             * ourself\r\n             */\r\n            this.self = event.currentTarget\r\n        }\r\n\r\n        this.props.onDragStart &&\r\n            this.props.onDragStart(this.state.x, this.state.y)\r\n\r\n        let originX, originY\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            originX = (event as MouseEvent).clientX\r\n            originY = (event as MouseEvent).clientY\r\n        } else {\r\n            originX = (event as TouchEvent).touches[0].clientX\r\n            originY = (event as TouchEvent).touches[0].clientY\r\n        }\r\n\r\n        this.setState({\r\n            originX: originX,\r\n            originY: originY,\r\n            lastX: this.state.x,\r\n            lastY: this.state.y,\r\n            zIndex: 10\r\n        })\r\n    }\r\n\r\n    onDragEnd = (event: any) => {\r\n        /** 取消用户选择限制，用户可以重新选择 */\r\n        doc.body.style.userSelect = ''\r\n        this.parent = null\r\n        this.self = null\r\n\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            doc.removeEventListener('mousemove', this.move)\r\n            doc.removeEventListener('mouseup', this.onDragEnd)\r\n        } else {\r\n            doc.removeEventListener('touchmove', this.move)\r\n            doc.removeEventListener('touchend', this.onDragEnd)\r\n        }\r\n\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                zIndex: 1\r\n            })\r\n        }\r\n\r\n        this.props.onDragEnd &&\r\n            this.props.onDragEnd(event, this.state.x, this.state.y)\r\n    }\r\n\r\n    onResizeStart = (event: React.MouseEvent<HTMLSpanElement>) => {\r\n        /** 保证用户在移动元素的时候不会选择到元素内部的东西 */\r\n        doc.body.style.userSelect = 'none'\r\n\r\n        doc.addEventListener('mouseup', this.onResizeEnd)\r\n        doc.addEventListener('mousemove', this.onResizing)\r\n\r\n        let originX, originY\r\n        originX = event.clientX\r\n        originY = event.clientY\r\n\r\n        this.props.onResizeStart &&\r\n            this.props.onResizeStart(event, this.state.w, this.state.h)\r\n\r\n        this.setState({\r\n            originX: originX,\r\n            originY: originY,\r\n            zIndex: 2,\r\n            lastW: this.state.w,\r\n            lastH: this.state.h\r\n        })\r\n        event.stopPropagation()\r\n    }\r\n    onResizing = (event: any) => {\r\n        /*  event.client - this.state.origin 表示的是移动的距离,\r\n        *   elX表示的是原来已经有的位移\r\n        */\r\n\r\n        let deltaX, deltaY\r\n        if (event.type.indexOf('mouse') >= 0) {\r\n            deltaX = (event as MouseEvent).clientX - this.state.originX\r\n            deltaY = (event as MouseEvent).clientY - this.state.originY\r\n        } else {\r\n            deltaX =\r\n                (event as TouchEvent).touches[0].clientX - this.state.originX\r\n            deltaY =\r\n                (event as TouchEvent).touches[0].clientY - this.state.originY\r\n        }\r\n        /**移动时回调，用于外部控制 */\r\n\r\n        this.props.onResizing &&\r\n            this.props.onResizing(event, this.state.w, this.state.h)\r\n\r\n        this.setState({\r\n            w: deltaX + this.state.lastW,\r\n            h: deltaY + this.state.lastH\r\n        })\r\n    }\r\n    onResizeEnd = (event: any) => {\r\n        doc.body.style.userSelect = ''\r\n        doc.removeEventListener('mousemove', this.onResizing)\r\n        doc.removeEventListener('mouseup', this.onResizeEnd)\r\n\r\n        this.props.onResizeEnd &&\r\n            this.props.onResizeEnd(event, this.state.w, this.state.h)\r\n    }\r\n\r\n    componentDidMount() {\r\n        doc = typeof document === 'undefined' ? {} : document\r\n        this._ismounted = true\r\n    }\r\n    componentWillUnmount() {\r\n        this._ismounted = false\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: DraggerProps) {\r\n        /**\r\n         * 外部props 改变的时候更新元素的内部位置\r\n         * 这个api设计其实很不好\r\n         * 以后可能会修改掉\r\n         */\r\n        const { isUserMove } = nextProps\r\n        if (!isUserMove) {\r\n            if (\r\n                typeof nextProps.x === 'number' &&\r\n                typeof nextProps.y === 'number'\r\n            ) {\r\n                this.setState({\r\n                    y: nextProps.y,\r\n                    x: nextProps.x,\r\n                    lastX: nextProps.x,\r\n                    lastY: nextProps.y,\r\n                    w: nextProps.w,\r\n                    h: nextProps.h\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    movePerFrame = (delt: number) => {\r\n        this.setState({\r\n            y: this.state.y + delt\r\n        })\r\n        this.mQue++\r\n        if (this.mQue >= 10) {\r\n            this.mQue = 0\r\n            return\r\n        }\r\n        requestAnimationFrame(() => this.movePerFrame(delt))\r\n    }\r\n\r\n    mixin = () => {\r\n        var dragMix = {\r\n            onMouseDown: this.onDragStartDebounce,\r\n            onTouchStart: this.onDragStartDebounce,\r\n            onTouchEnd: this.onDragEndDebounce,\r\n            onMouseUp: this.onDragEndDebounce\r\n        }\r\n\r\n        var resizeMix = {\r\n            onMouseDown: this.onResizeStart,\r\n            onMouseUp: this.onResizeEnd\r\n        }\r\n        return {\r\n            dragMix,\r\n            resizeMix\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var { x, y, w, h } = this.state\r\n        var { style } = this.props\r\n\r\n        if (!this.props.isUserMove) {\r\n            /**当外部设置其props的x,y初始属性的时候，我们在这里设置元素的初始位移 */\r\n            x = this.props.x ? this.props.x : 0\r\n            y = this.props.y ? this.props.y : 0\r\n            if (style) {\r\n                w = (style as any).width ? (style as any).width : w\r\n                h = (style as any).height ? (style as any).height : h\r\n            }\r\n        }\r\n        if (style) {\r\n            //使得初始化的时候，不会有从0-1缩放动画\r\n            w = w === 0 ? (style as any).width : w\r\n            h = h === 0 ? (style as any).height : h\r\n        }\r\n        const { dragMix, resizeMix } = this.mixin()\r\n\r\n        const provided = {\r\n            style: {\r\n                ...style,\r\n                touchAction: 'none!important',\r\n                transform: `translate3d(${x}px,${y}px,0px)`,\r\n                width: w,\r\n                height: h\r\n            },\r\n            ref: (node: any) => (this.Ref = node)\r\n        }\r\n\r\n        return this.props.children(provided, dragMix, resizeMix)\r\n    }\r\n}\r\n","import { DragactLayoutItem } from \"../dragact-type\";\r\nimport { GridItemEvent } from \"../gridItem\";\r\n\r\nexport const collision = (a: DragactLayoutItem, b: DragactLayoutItem) => {\r\n    if (a.GridX === b.GridX && a.GridY === b.GridY &&\r\n        a.w === b.w && a.h === b.h) {\r\n        return true\r\n    }\r\n    if (a.GridX + a.w <= b.GridX) return false\r\n    if (a.GridX >= b.GridX + b.w) return false\r\n    if (a.GridY + a.h <= b.GridY) return false\r\n    if (a.GridY >= b.GridY + b.h) return false\r\n    return true\r\n}\r\n\r\n\r\n/**获取layout中，item第一个碰撞到的物体 */\r\nexport const getFirstCollison = (layout: DragactLayoutItem[], item: DragactLayoutItem) => {\r\n\r\n    for (let i = 0, length = layout.length; i < length; i++) {\r\n        if (collision(layout[i], item)) {\r\n            return layout[i]\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\n\r\n/**\r\n * 这个函数带有记忆功能\r\n */\r\nexport const layoutCheck = function () {\r\n\r\n    var caches: any = {};\r\n\r\n    const _layoutCheck = function (layout: DragactLayoutItem[], layoutItem: GridItemEvent,\r\n        key: string, fristItemkey: string, moving: number) {\r\n\r\n\r\n        if (layoutItem.GridX === caches.GridX\r\n            && layoutItem.GridY === caches.GridY\r\n            && layoutItem.w === caches.w\r\n            && layoutItem.h === caches.h) {\r\n            return layout;\r\n        }\r\n        caches = { ...layoutItem };\r\n\r\n        let i: any = [], movedItem: any = []/**收集所有移动过的物体 */\r\n        let newlayout = layout.map((item, idx) => {\r\n            if (item.key !== key) {\r\n                if (item.static) {\r\n                    return item\r\n                }\r\n                if (collision(item, layoutItem)) {\r\n                    i.push(item.key)\r\n                    /**\r\n                     * 这里就是奇迹发生的地方，如果向上移动，那么必须注意的是\r\n                     * 一格一格的移动，而不是一次性移动\r\n                     */\r\n                    let offsetY = item.GridY + 1\r\n\r\n                    /**这一行也非常关键，当向上移动的时候，碰撞的元素必须固定 */\r\n                    // if (moving < 0 && layoutItem.GridY > 0) offsetY = item.GridY\r\n\r\n                    if (layoutItem.GridY > item.GridY && layoutItem.GridY < item.GridY + item.h) {\r\n                        /**\r\n                         * 元素向上移动时，元素的上面空间不足,则不移动这个元素\r\n                         * 当元素移动到GridY>所要向上交换的元素时，就不会进入这里，直接交换元素\r\n                         */\r\n                        offsetY = item.GridY\r\n                    }\r\n                    // const newItem = { ...item, GridX: layoutItem.GridX, GridY: offsetY, isUserMove: false };\r\n\r\n                    const newItem = { ...item, GridY: offsetY, isUserMove: false }\r\n                    movedItem.push(newItem)\r\n                    return newItem\r\n                }\r\n            } else if (fristItemkey === key) {\r\n\r\n                /**永远保持用户移动的块是 isUserMove === true */\r\n                return { ...item, ...layoutItem }\r\n            }\r\n\r\n            return item\r\n        })\r\n        /** 递归调用,将layout中的所有重叠元素全部移动 */\r\n        const length = movedItem.length;\r\n        for (let c = 0; c < length; c++) {\r\n            newlayout = _layoutCheck(newlayout, movedItem[c], i[c], fristItemkey, 0)\r\n        }\r\n        return newlayout\r\n    }\r\n    return _layoutCheck;\r\n}();\r\n\r\n","import { collision, layoutCheck } from \"./collison\";\r\nimport { DragactLayoutItem } from \"../dragact-type\";\r\nimport { GridItemEvent } from \"../gridItem\";\r\n\r\n\r\nexport const checkInContainer = (GridX: number, GridY: number, col: number, w: number) => {\r\n\r\n    /**防止元素出container */\r\n    if (GridX + w > col - 1) GridX = col - w //右边界\r\n    if (GridX < 0) GridX = 0//左边界\r\n    if (GridY < 0) GridY = 0//上边界\r\n    return { GridX, GridY }\r\n}\r\n\r\n/**\r\n * 这个函数会有副作用，不是纯函数，会改变item的Gridx和GridY\r\n * @param {*} item \r\n */\r\nexport const correctItem = (item: DragactLayoutItem, col: number) => {\r\n    const { GridX, GridY } = checkInContainer(item.GridX, item.GridY, col, item.w)\r\n    item.GridX = GridX;\r\n    item.GridY = GridY;\r\n}\r\nexport const correctLayout = (layout: DragactLayoutItem[], col: number) => {\r\n    var copy = [...layout];\r\n    for (let i = 0; i < layout.length - 1; i++) {\r\n        correctItem(copy[i], col)\r\n        correctItem(copy[i + 1], col);\r\n\r\n        if (collision(copy[i], copy[i + 1])) {\r\n            copy = layoutCheck(copy, <GridItemEvent>copy[i], (<GridItemEvent>copy[i]).UniqueKey + '', (<GridItemEvent>copy[i]).UniqueKey + '', 0)\r\n        }\r\n    }\r\n\r\n    return copy;\r\n}\r\n","import * as React from \"react\";\r\nimport { Dragger } from './dragger/index'\r\nimport { checkInContainer } from './util/correction';\r\nimport { Bound } from './utils';\r\n\r\nexport interface GridItemProps {\r\n    /**外部容器属性 */\r\n    col: number,\r\n    containerWidth: number,\r\n    containerPadding: [number, number],\r\n\r\n    /**子元素的属性 */\r\n    margin?: [number, number],\r\n    GridX: number,\r\n    GridY: number,\r\n    rowHeight: number,\r\n\r\n    /**子元素的宽高 */\r\n    w: number,\r\n    h: number,\r\n\r\n    /**生命周期回掉函数 */\r\n    onDragStart?: (event: GridItemEvent) => void,\r\n    onDragEnd?: (event: GridItemEvent) => void,\r\n    onDrag?: (event: GridItemEvent) => void\r\n\r\n    onResizeStart?: (event: GridItemEvent) => void\r\n    onResizing?: (event: GridItemEvent) => void\r\n    onResizeEnd?: (event: GridItemEvent) => void\r\n\r\n    isUserMove: Boolean\r\n\r\n    UniqueKey?: string\r\n\r\n    static?: Boolean\r\n\r\n    style?: React.CSSProperties\r\n\r\n    bounds?: Bound | 'parent'\r\n\r\n    dragType: 'drag' | 'resize'\r\n\r\n    handle?: Boolean\r\n\r\n    canDrag?: Boolean\r\n\r\n    canResize?: Boolean\r\n\r\n    children: (provided: any, draggerProps: any, resizerProps: any) => any;\r\n}\r\n\r\nexport interface GridItemEvent {\r\n    event: any\r\n    GridX: number\r\n    GridY: number\r\n    w: number\r\n    h: number\r\n    UniqueKey: string | number\r\n}\r\n\r\n\r\nconst checkWidthHeight = (GridX: number, w: number, h: number, col: number) => {\r\n    var newW = w;\r\n    var newH = h;\r\n    if (GridX + w > col - 1) newW = col - GridX //右边界\r\n    if (w < 1) newW = 1;\r\n    if (h < 1) newH = 1;\r\n    return {\r\n        w: newW, h: newH\r\n    }\r\n\r\n}\r\n\r\nexport default class GridItem extends React.Component<GridItemProps, {}> {\r\n    constructor(props: GridItemProps) {\r\n        super(props)\r\n        this.onDrag = this.onDrag.bind(this)\r\n        this.onDragStart = this.onDragStart.bind(this)\r\n        this.onDragEnd = this.onDragEnd.bind(this)\r\n        this.calGridXY = this.calGridXY.bind(this)\r\n        this.calColWidth = this.calColWidth.bind(this)\r\n    }\r\n\r\n\r\n    static defaultProps = {\r\n        col: 12,\r\n        containerWidth: 500,\r\n        containerPadding: [0, 0],\r\n        margin: [10, 10],\r\n        rowHeight: 30,\r\n        w: 1,\r\n        h: 1\r\n    }\r\n\r\n    /** 计算容器的每一个格子多大 */\r\n    calColWidth() {\r\n        const { containerWidth, col, containerPadding, margin } = this.props;\r\n\r\n        if (margin) {\r\n            return (containerWidth - containerPadding[0] * 2 - margin[0] * (col + 1)) / col\r\n        }\r\n        return (containerWidth - containerPadding[0] * 2 - 0 * (col + 1)) / col\r\n    }\r\n\r\n    /**转化，计算网格的GridX,GridY值 */\r\n    calGridXY(x: number, y: number) {\r\n        const { margin, containerWidth, col, w, rowHeight } = this.props\r\n\r\n        /**坐标转换成格子的时候，无须计算margin */\r\n        let GridX = Math.round(x / containerWidth * col)\r\n        let GridY = Math.round(y / (rowHeight + (margin ? margin[1] : 0)))\r\n\r\n        // /**防止元素出container */\r\n        return checkInContainer(GridX, GridY, col, w)\r\n    }\r\n\r\n\r\n    /**给予一个grid的位置，算出元素具体的在容器中位置在哪里，单位是px */\r\n    calGridItemPosition(GridX: number, GridY: number) {\r\n        var { margin, rowHeight } = this.props\r\n\r\n        if (!margin) margin = [0, 0];\r\n\r\n        let x = Math.round(GridX * this.calColWidth() + (GridX + 1) * margin[0])\r\n        let y = Math.round(GridY * rowHeight + margin[1] * (GridY + 1))\r\n\r\n\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    }\r\n\r\n\r\n    shouldComponentUpdate(props: GridItemProps, state: any) {\r\n\r\n        let isUpdate = false\r\n        Object.keys(props).forEach((key)=>{\r\n            if((props as any)[key] !== (this.props as any)[key]){\r\n                isUpdate = true\r\n            }\r\n        })\r\n        return isUpdate\r\n\r\n        // return this.props.GridX !== props.GridX ||\r\n        //     this.props.GridY !== props.GridY ||\r\n        //     this.props.isUserMove !== props.isUserMove ||\r\n        //     this.props.w !== props.w ||\r\n        //     this.props.h !== props.h ||\r\n        //     this.props.containerWidth !== props.containerWidth ||\r\n        //     this.props.col !== props.col ||\r\n        //     this.props.rowHeight !== props.rowHeight\r\n    }\r\n\r\n    /**宽和高计算成为px */\r\n    calWHtoPx(w: number, h: number) {\r\n        var { margin } = this.props\r\n\r\n        if (!margin) margin = [0, 0];\r\n        const wPx = Math.round(w * this.calColWidth() + (w - 1) * margin[0])\r\n        const hPx = Math.round(h * this.props.rowHeight + (h - 1) * margin[1])\r\n\r\n        return { wPx, hPx }\r\n    }\r\n\r\n    calPxToWH(wPx: number, hPx: number) {\r\n        const calWidth = this.calColWidth();\r\n\r\n        const w = Math.round((wPx - calWidth * 0.5) / calWidth)\r\n        const h = Math.round((hPx - this.props.rowHeight * 0.5) / this.props.rowHeight)\r\n        return checkWidthHeight(this.props.GridX, w, h, this.props.col)\r\n    }\r\n\r\n    onDragStart(x: number, y: number) {\r\n        const { w, h, UniqueKey } = this.props;\r\n\r\n        if (this.props.static) return;\r\n\r\n        const { GridX, GridY } = this.calGridXY(x, y)\r\n\r\n        this.props.onDragStart && this.props.onDragStart({\r\n            event: null, GridX, GridY, w, h, UniqueKey: UniqueKey + ''\r\n        })\r\n    }\r\n    onDrag(event: any, x: number, y: number) {\r\n        if (this.props.static) return;\r\n        const { GridX, GridY } = this.calGridXY(x, y)\r\n        const { w, h, UniqueKey } = this.props\r\n        this.props.onDrag && this.props.onDrag({ GridX, GridY, w, h, UniqueKey: UniqueKey + '', event })\r\n    }\r\n\r\n    onDragEnd(event: any, x: number, y: number) {\r\n        if (this.props.static) return;\r\n        const { GridX, GridY } = this.calGridXY(x, y);\r\n        const { w, h, UniqueKey } = this.props;\r\n        if (this.props.onDragEnd) this.props.onDragEnd({ GridX, GridY, w, h, UniqueKey: UniqueKey + '', event });\r\n    }\r\n\r\n    onResizeStart = (event: any, wPx: number, hPx: number) => {\r\n        const { GridX, GridY, UniqueKey, w, h } = this.props;\r\n        this.props.onResizeStart && this.props.onResizeStart({ GridX, GridY, w, h, UniqueKey: UniqueKey + '', event })\r\n    }\r\n\r\n    onResizing = (event: any, wPx: number, hPx: number) => {\r\n        var { w, h } = this.calPxToWH(wPx, hPx);\r\n\r\n        const { GridX, GridY, UniqueKey } = this.props;\r\n        this.props.onResizing && this.props.onResizing({ GridX, GridY, w, h, UniqueKey: UniqueKey + '', event })\r\n    }\r\n\r\n    onResizeEnd = (event: any, wPx: number, hPx: number) => {\r\n        var { w, h } = this.calPxToWH(wPx, hPx);\r\n        const { GridX, GridY, UniqueKey } = this.props;\r\n\r\n        this.props.onResizeEnd && this.props.onResizeEnd({ GridX, GridY, w, h, UniqueKey: UniqueKey + '', event })\r\n    }\r\n    render() {\r\n        const { w, h, style, bounds, GridX, GridY, handle, canDrag, canResize } = this.props;\r\n        const { x, y } = this.calGridItemPosition(GridX, GridY);\r\n        const { wPx, hPx } = this.calWHtoPx(w, h);\r\n        return (\r\n            <Dragger\r\n                style={{\r\n                    ...style,\r\n                    width: wPx,\r\n                    height: hPx,\r\n                    position: 'absolute',\r\n                    transition: this.props.isUserMove ? '' : 'all .2s ease-out',\r\n                    zIndex: this.props.isUserMove ? (this.props.dragType === 'drag' ? 10 : 2) : 2\r\n                }}\r\n                onDragStart={this.onDragStart}\r\n                onMove={this.onDrag}\r\n                onDragEnd={this.onDragEnd}\r\n                onResizeStart={this.onResizeStart}\r\n                onResizing={this.onResizing}\r\n                onResizeEnd={this.onResizeEnd}\r\n                x={x}\r\n                y={y}\r\n                w={wPx}\r\n                h={hPx}\r\n                isUserMove={this.props.isUserMove}\r\n                bounds={bounds}\r\n                handle={handle}\r\n                canDrag={canDrag}\r\n                canResize={canResize}\r\n            >\r\n                {(provided, draggerProps, resizerProps) => this.props.children(provided, draggerProps, resizerProps)}\r\n            </Dragger>\r\n        )\r\n    }\r\n}","import { DragactLayoutItem } from '../dragact-type'\r\n\r\nexport function quickSort(a: number[]): any {\r\n    return a.length <= 1\r\n        ? a\r\n        : quickSort(a.slice(1).filter(item => item <= a[0])).concat(\r\n              a[0],\r\n              quickSort(a.slice(1).filter(item => item > a[0]))\r\n          )\r\n}\r\n\r\nexport const sortLayout = (layout: any) => {\r\n    return [].concat(layout).sort((a: any, b: any) => {\r\n        if (a.GridY > b.GridY || (a.GridY === b.GridY && a.GridX > b.GridX)) {\r\n            if (a.static) return 0 //为了静态，排序的时候尽量把静态的放在前面\r\n            return 1\r\n        } else if (a.GridY === b.GridY && a.GridX === b.GridX) {\r\n            return 0\r\n        }\r\n        return -1\r\n    })\r\n}\r\n\r\n/**\r\n * 这个函数带有记忆功能\r\n */\r\nexport const getMaxContainerHeight = (function() {\r\n    var lastOneYNH = 0\r\n    return function(\r\n        layout: DragactLayoutItem[],\r\n        elementHeight = 30,\r\n        elementMarginBottom = 10,\r\n        currentHeight: number,\r\n        useCache?: Boolean\r\n    ) {\r\n        if (useCache !== false) {\r\n            const length = layout.length\r\n            const currentLastOne = layout[length - 1]\r\n            if (currentLastOne.GridY + currentLastOne.h === lastOneYNH) {\r\n                return currentHeight\r\n            }\r\n            lastOneYNH = currentLastOne.GridY + currentLastOne.h\r\n        }\r\n\r\n        const ar = layout.map(item => {\r\n            return item.GridY + item.h\r\n        })\r\n        const h = quickSort(ar)[ar.length - 1]\r\n        const height =\r\n            h * (elementHeight + elementMarginBottom) + elementMarginBottom\r\n\r\n        return height\r\n    }\r\n})()\r\n","import { sortLayout } from \"./sort\";\r\nimport { getFirstCollison } from \"./collison\";\r\nimport { DragactLayoutItem, mapLayout } from \"../dragact-type\";\r\nimport { GridItemEvent } from \"../gridItem\";\r\n\r\n/**\r\n * 压缩单个元素，使得每一个元素都会紧挨着边界或者相邻的元素\r\n * @param {*} finishedLayout 压缩完的元素会放进这里来，用来对比之后的每一个元素是否需要压缩\r\n * @param {*} item \r\n */\r\nexport const compactItem = (finishedLayout: DragactLayoutItem[], item: DragactLayoutItem) => {\r\n    if (item.static) return item;\r\n    const newItem = { ...item, key: item.key + '' }\r\n    if (finishedLayout.length === 0) {\r\n        return { ...newItem, GridY: 0 }\r\n    }\r\n    /**\r\n     * 类似一个递归调用\r\n     */\r\n    while (true) {\r\n        let FirstCollison = getFirstCollison(finishedLayout, newItem)\r\n        if (FirstCollison) {\r\n            /**第一次发生碰撞时，就可以返回了 */\r\n            newItem.GridY = FirstCollison.GridY + FirstCollison.h\r\n            return newItem\r\n        }\r\n        newItem.GridY--\r\n\r\n        if (newItem.GridY < 0) return { ...newItem, GridY: 0 }/**碰到边界的时候，返回 */\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 压缩layout，使得每一个元素都会紧挨着边界或者相邻的元素\r\n * @param {*} layout \r\n */\r\nexport const compactLayout = function () {\r\n    var _cache: any = {\r\n    };\r\n\r\n    return function (layout: DragactLayoutItem[], movingItem: GridItemEvent | undefined, mapedLayout: mapLayout | undefined) {\r\n        if (movingItem) {\r\n            if (_cache.GridX === movingItem.GridX\r\n                && _cache.GridY === movingItem.GridY &&\r\n                _cache.w === movingItem.w &&\r\n                _cache.h === movingItem.h &&\r\n                _cache.UniqueKey === movingItem.UniqueKey\r\n            ) {\r\n                return {\r\n                    compacted: layout,\r\n                    mapLayout: mapedLayout\r\n                };\r\n            }\r\n            _cache = movingItem;\r\n        }\r\n        let sorted = sortLayout(layout)//把静态的放在前面\r\n        const needCompact = Array(layout.length)\r\n        const compareList = []\r\n        const mapLayout: mapLayout = {};\r\n        \r\n        \r\n        for (let i = 0, length = sorted.length; i < length; i++) {\r\n            let finished = compactItem(compareList, sorted[i])\r\n            if (movingItem) {\r\n                if (movingItem.UniqueKey === finished.key) {\r\n                    movingItem.GridX = finished.GridX;\r\n                    movingItem.GridY = finished.GridY;\r\n                    finished.isUserMove = true\r\n                } else\r\n                    finished.isUserMove = false\r\n            }\r\n            else\r\n                finished.isUserMove = false\r\n            compareList.push(finished)\r\n            needCompact[i] = finished\r\n            mapLayout[finished.key + ''] = finished;\r\n        }\r\n        \r\n        return {\r\n            compacted: needCompact,\r\n            mapLayout\r\n        }\r\n    }\r\n\r\n}()","import { DragactLayoutItem, mapLayout } from \"../dragact-type\";\r\nimport { GridItemEvent } from \"../gridItem\";\r\n\r\n/**\r\n * 把用户移动的块，标记为true\r\n * @param {*} layout \r\n * @param {*} key \r\n * @param {*} GridX \r\n * @param {*} GridY \r\n * @param {*} isUserMove \r\n */\r\nexport const syncLayout = (layout: mapLayout, movingItem: GridItemEvent) => {\r\n    const key = movingItem.UniqueKey;\r\n\r\n    layout[key].GridX = movingItem.GridX;\r\n    layout[key].GridY = movingItem.GridY\r\n    layout[key].isUserMove = true;\r\n\r\n    // for (const idx in layout) {\r\n    //     if (layout[idx].key === movingItem.UniqueKey) {\r\n    //         layout[idx].GridX = movingItem.GridX\r\n    //         layout[idx].GridY = movingItem.GridY\r\n    //         layout[idx].isUserMove = true\r\n    //         break;\r\n    //     }\r\n    // }\r\n    return layout\r\n}\r\n\r\n\r\n/**\r\n * 初始化的时候调用\r\n * 会把isUserMove和key一起映射到layout中\r\n * 不用用户设置\r\n * @param {*} layout \r\n * @param {*} children \r\n */\r\n\r\nexport const MapLayoutTostate = (layout: DragactLayoutItem[], children: any[]) => {\r\n    return layout.map((child, index) => {\r\n        let newChild = { ...child, isUserMove: true, key: children[index].key, static: children[index].static }\r\n        return newChild\r\n    })\r\n}\r\n\r\n/**\r\n * 用key从layout中拿出item\r\n * @param {*} layout 输入进来的布局\r\n * @param {*} key \r\n */\r\nexport const layoutItemForkey = (layout: mapLayout, key: string) => {\r\n    return layout[key]\r\n}\r\n\r\n\r\n","import * as React from 'react'\r\n//import GridItem, { GridItemEvent } from './GridItem'\r\nimport GridItem, { GridItemEvent } from './gridItem'\r\nimport { compactLayout } from './util/compact'\r\nimport { getMaxContainerHeight } from './util/sort'\r\nimport { layoutCheck } from './util/collison'\r\nimport { correctLayout } from './util/correction'\r\nimport { stringJoin } from './utils'\r\nimport { layoutItemForkey, syncLayout } from './util/initiate'\r\nimport { DragactProps, DragactState, DragactLayoutItem } from './dragact-type'\r\n\r\nimport './style.css'\r\n\r\nexport class Dragact extends React.Component<DragactProps, DragactState> {\r\n    constructor(props: DragactProps) {\r\n        super(props)\r\n        this.onDrag = this.onDrag.bind(this)\r\n        this.onDragStart = this.onDragStart.bind(this)\r\n        this.onDragEnd = this.onDragEnd.bind(this)\r\n\r\n        const layout = props.layout\r\n\r\n        this.state = {\r\n            GridXMoving: 0,\r\n            GridYMoving: 0,\r\n            wMoving: 0,\r\n            hMoving: 0,\r\n            placeholderShow: false,\r\n            placeholderMoving: false,\r\n            layout: layout,\r\n            containerHeight: 500,\r\n            dragType: 'drag',\r\n            mapLayout: undefined\r\n        }\r\n    }\r\n\r\n    onResizeStart = (layoutItem: GridItemEvent) => {\r\n        const { GridX, GridY, w, h } = layoutItem\r\n        if (this.state.mapLayout) {\r\n            const newlayout = syncLayout(this.state.mapLayout, layoutItem)\r\n            this.setState({\r\n                GridXMoving: GridX,\r\n                GridYMoving: GridY,\r\n                wMoving: w,\r\n                hMoving: h,\r\n                placeholderShow: true,\r\n                placeholderMoving: true,\r\n                mapLayout: newlayout,\r\n                dragType: 'resize'\r\n            })\r\n        }\r\n        this.props.onDragStart &&\r\n            this.props.onDragStart(layoutItem, this.state.layout)\r\n    }\r\n\r\n    onResizing = (layoutItem: GridItemEvent) => {\r\n        const newLayout = layoutCheck(\r\n            this.state.layout,\r\n            layoutItem,\r\n            layoutItem.UniqueKey + '',\r\n            layoutItem.UniqueKey + '',\r\n            0\r\n        )\r\n\r\n        const { compacted, mapLayout } = compactLayout(\r\n            newLayout,\r\n            layoutItem,\r\n            this.state.mapLayout\r\n        )\r\n\r\n        this.setState({\r\n            layout: compacted,\r\n            wMoving: layoutItem.w,\r\n            hMoving: layoutItem.h,\r\n            mapLayout: mapLayout,\r\n            containerHeight: getMaxContainerHeight(\r\n                compacted,\r\n                this.props.rowHeight,\r\n                this.props.margin[1],\r\n                this.state.containerHeight,\r\n                false\r\n            )\r\n        })\r\n    }\r\n\r\n    onResizeEnd = (layoutItem: GridItemEvent) => {\r\n        const { compacted, mapLayout } = compactLayout(\r\n            this.state.layout,\r\n            undefined,\r\n            this.state.mapLayout\r\n        )\r\n        this.setState({\r\n            placeholderShow: false,\r\n            layout: compacted,\r\n            mapLayout: mapLayout,\r\n            containerHeight: getMaxContainerHeight(\r\n                compacted,\r\n                this.props.rowHeight,\r\n                this.props.margin[1],\r\n                this.state.containerHeight\r\n            )\r\n        })\r\n        this.props.onDragEnd && this.props.onDragEnd(layoutItem, compacted)\r\n    }\r\n\r\n    onDragStart(bundles: GridItemEvent) {\r\n        const { GridX, GridY, w, h } = bundles\r\n        if (this.state.mapLayout) {\r\n            this.setState({\r\n                GridXMoving: GridX,\r\n                GridYMoving: GridY,\r\n                wMoving: w,\r\n                hMoving: h,\r\n                placeholderShow: true,\r\n                placeholderMoving: true,\r\n                mapLayout: syncLayout(this.state.mapLayout, bundles),\r\n                dragType: 'drag'\r\n            })\r\n        }\r\n        this.props.onDragStart &&\r\n            this.props.onDragStart(bundles, this.state.layout)\r\n    }\r\n\r\n    onDrag(layoutItem: GridItemEvent) {\r\n        const { GridY, UniqueKey } = layoutItem\r\n        const moving = GridY - this.state.GridYMoving\r\n\r\n        const newLayout = layoutCheck(\r\n            this.state.layout,\r\n            layoutItem,\r\n            UniqueKey + '',\r\n            UniqueKey + '' /*用户移动方块的key */,\r\n            moving\r\n        )\r\n        const { compacted, mapLayout } = compactLayout(\r\n            newLayout,\r\n            layoutItem,\r\n            this.state.mapLayout\r\n        )\r\n        this.setState({\r\n            GridXMoving: layoutItem.GridX,\r\n            GridYMoving: layoutItem.GridY,\r\n            layout: compacted,\r\n            mapLayout: mapLayout,\r\n            containerHeight: getMaxContainerHeight(\r\n                compacted,\r\n                this.props.rowHeight,\r\n                this.props.margin[1],\r\n                this.state.containerHeight\r\n            )\r\n        })\r\n        this.props.onDrag && this.props.onDrag(layoutItem, compacted)\r\n    }\r\n\r\n    onDragEnd(layoutItem: GridItemEvent) {\r\n        const { compacted, mapLayout } = compactLayout(\r\n            this.state.layout,\r\n            undefined,\r\n            this.state.mapLayout\r\n        )\r\n\r\n        this.setState({\r\n            placeholderShow: false,\r\n            layout: compacted,\r\n            mapLayout: mapLayout,\r\n            containerHeight: getMaxContainerHeight(\r\n                compacted,\r\n                this.props.rowHeight,\r\n                this.props.margin[1],\r\n                this.state.containerHeight\r\n            )\r\n        })\r\n        this.props.onDragEnd && this.props.onDragEnd(layoutItem, compacted)\r\n    }\r\n\r\n    renderPlaceholder() {\r\n        if (!this.state.placeholderShow) return null\r\n        var { col, padding, rowHeight, margin, placeholder, width } = this.props\r\n        const {\r\n            GridXMoving,\r\n            GridYMoving,\r\n            wMoving,\r\n            hMoving,\r\n            placeholderMoving,\r\n            dragType\r\n        } = this.state\r\n\r\n        if (!placeholder) return null\r\n        if (!padding) padding = 0\r\n        return (\r\n            <GridItem\r\n                margin={margin}\r\n                col={col}\r\n                containerWidth={width}\r\n                containerPadding={[padding, padding]}\r\n                rowHeight={rowHeight}\r\n                GridX={GridXMoving}\r\n                GridY={GridYMoving}\r\n                w={wMoving}\r\n                h={hMoving}\r\n                style={{\r\n                    background: 'rgba(15,15,15,0.3)',\r\n                    zIndex: dragType === 'drag' ? 1 : 10,\r\n                    transition: ' all .15s ease-out'\r\n                }}\r\n                isUserMove={!placeholderMoving}\r\n                dragType={dragType}\r\n                canDrag={false}\r\n                canResize={false}\r\n            >\r\n                {(p: any, resizerProps: any) => <div {...p} />}\r\n            </GridItem>\r\n        )\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: any) {\r\n        if (this.props.layout.length > nextProps.layout.length) {\r\n            //remove\r\n            const mapLayoutCopy = { ...this.state.mapLayout }\r\n            nextProps.layout.forEach((child: any) => {\r\n                if ((mapLayoutCopy as any)[child.key + ''] !== void 666)\r\n                    delete (mapLayoutCopy as any)[child.key + '']\r\n            })\r\n\r\n            const copyed: any = { ...this.state.mapLayout }\r\n            const newLayout = nextProps.layout.map((item: any) => {\r\n                const { w, h, GridX, GridY, key, ...others } = item\r\n\r\n                return {\r\n                    ...copyed[item.key],\r\n                    others\r\n                }\r\n            })\r\n            const { compacted, mapLayout } = compactLayout(\r\n                newLayout,\r\n                undefined,\r\n                this.state.mapLayout\r\n            )\r\n            this.setState({\r\n                containerHeight: getMaxContainerHeight(\r\n                    compacted,\r\n                    this.props.rowHeight,\r\n                    this.props.margin[1],\r\n                    this.state.containerHeight\r\n                ),\r\n                layout: compacted,\r\n                mapLayout\r\n            })\r\n        } else if (this.props.layout.length < nextProps.layout.length) {\r\n            //add\r\n            const copyed: any = { ...this.state.mapLayout }\r\n            var newLayout = nextProps.layout.map((v: any) => {\r\n                if (copyed[v.key]) {\r\n                    return {\r\n                        ...v,\r\n                        GridX:copyed[v.key].GridX,\r\n                        GridY:copyed[v.key].GridY,\r\n                        w:copyed[v.key].w,\r\n                        h:copyed[v.key].h,\r\n                        key:copyed[v.key].key\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    ...v,\r\n                    isUserMove: false,\r\n                    key: v.key + ''\r\n                }\r\n            })\r\n            const { compacted, mapLayout } = compactLayout(\r\n                newLayout,\r\n                undefined,\r\n                this.state.mapLayout\r\n            )\r\n            this.setState({\r\n                containerHeight: getMaxContainerHeight(\r\n                    compacted,\r\n                    this.props.rowHeight,\r\n                    this.props.margin[1],\r\n                    this.state.containerHeight,\r\n                    false\r\n                ),\r\n                layout: compacted,\r\n                mapLayout\r\n            })\r\n        } else {\r\n            this.recalculateLayout(nextProps.layout, nextProps.col)\r\n        }\r\n    }\r\n\r\n    recalculateLayout = (layout: DragactLayoutItem[], col: number) => {\r\n        const corrected = correctLayout(layout, col)\r\n        const { compacted, mapLayout } = compactLayout(\r\n            corrected,\r\n            undefined,\r\n            undefined\r\n        )\r\n        this.setState({\r\n            layout: compacted,\r\n            mapLayout: mapLayout,\r\n            containerHeight: getMaxContainerHeight(\r\n                compacted,\r\n                this.props.rowHeight,\r\n                this.props.margin[1],\r\n                this.state.containerHeight,\r\n                false\r\n            )\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            this.recalculateLayout(this.state.layout, this.props.col)\r\n        }, 1)\r\n    }\r\n\r\n    getGridItem(child: any, index: number) {\r\n        const { dragType, mapLayout } = this.state\r\n        var { col, padding, rowHeight, margin, width } = this.props\r\n        if (mapLayout) {\r\n            const renderItem = layoutItemForkey(mapLayout, child.key + '')\r\n            if (!padding) padding = 0\r\n            return (\r\n                <GridItem\r\n                    {...renderItem}\r\n                    margin={margin}\r\n                    col={col}\r\n                    containerWidth={width}\r\n                    containerPadding={[padding, padding]}\r\n                    rowHeight={rowHeight}\r\n                    onDrag={this.onDrag}\r\n                    onDragStart={this.onDragStart}\r\n                    onDragEnd={this.onDragEnd}\r\n                    isUserMove={\r\n                        renderItem.isUserMove !== void 666\r\n                            ? renderItem.isUserMove\r\n                            : false\r\n                    }\r\n                    UniqueKey={child.key}\r\n                    onResizing={this.onResizing}\r\n                    onResizeStart={this.onResizeStart}\r\n                    onResizeEnd={this.onResizeEnd}\r\n                    dragType={dragType}\r\n                    key={child.key}\r\n                >\r\n                    {(GridItemProvided, dragHandle, resizeHandle) =>\r\n                        this.props.children(child, {\r\n                            isDragging:\r\n                                renderItem.isUserMove !== void 666\r\n                                    ? renderItem.isUserMove\r\n                                    : false,\r\n                            props: GridItemProvided,\r\n                            dragHandle,\r\n                            resizeHandle\r\n                        })\r\n                    }\r\n                </GridItem>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { className, layout, style, width } = this.props\r\n        const { containerHeight } = this.state\r\n\r\n        return (\r\n            <div\r\n                className={stringJoin('DraggerLayout', className + '')}\r\n                style={{\r\n                    ...style,\r\n                    left: 100,\r\n                    width: width,\r\n                    height: containerHeight,\r\n                    zIndex: 1\r\n                }}\r\n            >\r\n                {layout.map((item, index) => {\r\n                    return this.getGridItem(item, index)\r\n                })}\r\n                {this.renderPlaceholder()}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    //api\r\n    getLayout() {\r\n        return this.state.layout\r\n    }\r\n\r\n    //api\r\n    deleteItem(key: any) {}\r\n}\r\n","export const Words = [\r\n    { content: 'You can do anything, but not everything.' },\r\n    { content: 'Those who dare to fail miserably can achieve greatly.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'Those who believe in telekinetics, raise my hand.' },\r\n    { content: 'I’d rather live with a good question than a bad answer.' },\r\n    { content: 'You can do anything, but not everything.' },\r\n    { content: 'Those who dare to fail miserably can achieve greatly.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'Those who believe in telekinetics, raise my hand.' },\r\n    { content: 'I’d rather live with a good question than a bad answer.' },\r\n    { content: 'You can do anything, but not everything.' },\r\n    { content: 'Those who dare to fail miserably can achieve greatly.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'Those who believe in telekinetics, raise my hand.' },\r\n    { content: 'I’d rather live with a good question than a bad answer.' },\r\n    { content: 'You can do anything, but not everything.' },\r\n    { content: 'Those who dare to fail miserably can achieve greatly.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'Those who believe in telekinetics, raise my hand.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'You can do anything, but not everything.' },\r\n    { content: 'Those who dare to fail miserably can achieve greatly.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'Those who believe in telekinetics, raise my hand.' },\r\n    { content: 'I’d rather live with a good question than a bad answer.' },\r\n    { content: 'You can do anything, but not everything.' },\r\n    { content: 'Those who dare to fail miserably can achieve greatly.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'Those who believe in telekinetics, raise my hand.' }\r\n]","import *as React from 'react';\r\nimport { Dragact } from '../../lib/dragact'\r\nimport { DragactLayoutItem, GridItemProvided } from '../../lib/dragact-type'\r\nimport { Words } from './largedata';\r\nimport './index.css';\r\n\r\n\r\n\r\nconst fakeData = () => {\r\n    var Y = 0;\r\n    return Words.map((item, index) => {\r\n        if (index % 4 === 0) Y++;\r\n\r\n        return { ...item, GridX: index % 4 * 4, GridY: Y * 4, w: 4, h: 3, key: index + '' }\r\n    })\r\n}\r\n\r\n\r\nexport const Card: (any: any) => any = ({ item, provided }) => {\r\n    return (\r\n        <div\r\n            className='layout-Item'\r\n            {...provided.props}\r\n            {...provided.dragHandle}\r\n            style={{\r\n                ...provided.props.style,\r\n                background: `${provided.isDragging ? '#eaff8f' : 'white'}`\r\n            }}\r\n        >\r\n            <div\r\n                style={{ padding: 5, textAlign: 'center', color: '#595959' }}\r\n            >\r\n                <span>title</span>\r\n                <div style={{ borderBottom: '1px solid rgba(120,120,120,0.1)' }} />\r\n                {item.content}\r\n            </div>\r\n            <span\r\n                {...provided.resizeHandle}\r\n                style={{\r\n                    position: 'absolute',\r\n                    width: 10, height: 10, right: 2, bottom: 2, cursor: 'se-resize',\r\n                    borderRight: '2px solid rgba(15,15,15,0.2)',\r\n                    borderBottom: '2px solid rgba(15,15,15,0.2)'\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport class LayoutDemo extends React.Component<{}, {}> {\r\n    render() {\r\n        const margin: [number, number] = [5, 5];\r\n        const dragactInit = {\r\n            width: 600,\r\n            col: 16,\r\n            rowHeight: 40,\r\n            margin: margin,\r\n            className: 'normal-layout',\r\n            layout: fakeData()\r\n        }\r\n        return (\r\n            <div\r\n                style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center'\r\n                }}\r\n            >\r\n                <div>\r\n                    <h1 style={{ textAlign: 'center' }}>\r\n                        普通布局demo\r\n                    </h1>\r\n                    <Dragact\r\n                        {...dragactInit}\r\n                        placeholder={true}\r\n                        style={{\r\n                            background: '#003A8C'\r\n                        }}\r\n                    >\r\n                        {(item: DragactLayoutItem, provided: GridItemProvided) => {\r\n                            return <Card\r\n                                item={item}\r\n                                provided={provided}\r\n                            />\r\n                        }}\r\n                    </Dragact>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { Dragact } from '../../lib/dragact'\r\nimport { Card } from '../NormalLayout/index';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport './index.css';\r\n\r\nconst Words = [\r\n    { content: 'You can do anything, but not everything.' },\r\n    { content: 'Those who dare to fail miserably can achieve greatly.' },\r\n    { content: 'You miss 100 percent of the shots you never take.' },\r\n    { content: 'Those who believe in telekinetics, raise my hand.' },\r\n    { content: 'I’d rather live with a good question than a bad answer.' }\r\n]\r\n\r\nconst styles = (theme: Theme) => \r\ncreateStyles({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginLeft: -12,\r\n      marginRight: 20,\r\n    },\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing.unit * 2,\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing.unit * 3,\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      width: theme.spacing.unit * 9,\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n      width: '100%',\r\n    },\r\n    inputInput: {\r\n      paddingTop: theme.spacing.unit,\r\n      paddingRight: theme.spacing.unit,\r\n      paddingBottom: theme.spacing.unit,\r\n      paddingLeft: theme.spacing.unit * 10,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: 200,\r\n      },\r\n    },\r\n    sectionDesktop: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'flex',\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: 'flex',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n  });\r\n\r\nconst fakeData = () => {\r\n    var Y = 0;\r\n\r\n    return Words.map((item, index) => {\r\n        if (index % 4 === 0) Y++;\r\n        return { ...item, GridX: index % 4 * 4, GridY: Y * 4, w: 4, h: 2, key: index + '' }\r\n    })\r\n}\r\n\r\nexport interface Props extends WithStyles<typeof styles> {}\r\n\r\ninterface State {\r\n  anchorEl: null | HTMLElement;\r\n  mobileMoreAnchorEl: null | HTMLElement;\r\n}\r\n\r\n\r\nvar storeLayout: any = void 666;\r\nclass LayoutRestore extends React.Component<Props, State> {\r\n    \r\n    state: State = {\r\n        anchorEl: null,\r\n        mobileMoreAnchorEl: null,\r\n    };\r\n\r\n    dragactNode: Dragact | null;\r\n\r\n    constructor(props: Props){\r\n        super(props);\r\n        this.dragactNode = null;\r\n    }\r\n\r\n    handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n        this.setState({ anchorEl: event.currentTarget });\r\n    };\r\n\r\n    handleMenuClose = () => {\r\n        this.setState({ anchorEl: null });\r\n        this.handleMobileMenuClose();\r\n    };\r\n\r\n    handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n        this.setState({ mobileMoreAnchorEl: event.currentTarget });\r\n    };\r\n\r\n    handleMobileMenuClose = () => {\r\n        this.setState({ mobileMoreAnchorEl: null });\r\n    };\r\n\r\n    handleOnDragEnd = () => {\r\n        if (this.dragactNode){\r\n            const newLayout = this.dragactNode.getLayout();\r\n            const parsedLayout = JSON.stringify(newLayout);\r\n            localStorage.setItem('layout', parsedLayout);\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        const lastLayout = localStorage.getItem('shmcc_dashboardlayout');\r\n        if (lastLayout) {\r\n            storeLayout = JSON.parse(lastLayout);\r\n        }\r\n    }\r\n\r\n    renderDragact = () => {\r\n        const margin: [number, number] = [5, 5];\r\n        const dragactInit = {\r\n            width: 600,\r\n            col: 12,\r\n            rowHeight: 800 / 12,\r\n            margin: margin,\r\n            className: 'normal-layout',\r\n            layout: storeLayout ? storeLayout : fakeData(),\r\n            placeholder: true\r\n        }\r\n\r\n        return (\r\n            <Dragact\r\n                {...dragactInit}\r\n                ref={node => node ? this.dragactNode = node : null}\r\n                onDragEnd={this.handleOnDragEnd}\r\n\r\n            >\r\n                {(item: any, provided: any) => {\r\n                    return <Card item={item} provided={provided} />\r\n                }}\r\n            </Dragact>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { anchorEl, mobileMoreAnchorEl } = this.state;\r\n        const { classes } = this.props;\r\n        const isMenuOpen = Boolean(anchorEl);\r\n        const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n        const renderMenu = (\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={isMenuOpen}\r\n                onClose={this.handleMenuClose}\r\n            >\r\n                <MenuItem onClick={this.handleMenuClose}>Profile</MenuItem>\r\n                <MenuItem onClick={this.handleMenuClose}>My account</MenuItem>\r\n            </Menu>\r\n        );\r\n\r\n        const renderMobileMenu = (\r\n            <Menu\r\n                anchorEl={mobileMoreAnchorEl}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={isMobileMenuOpen}\r\n                onClose={this.handleMenuClose}\r\n            >\r\n                <MenuItem onClick={this.handleMobileMenuClose}>\r\n                    <IconButton color=\"inherit\">\r\n                        <Badge badgeContent={4} color=\"secondary\">\r\n                            <MailIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Messages</p>\r\n                </MenuItem>\r\n                <MenuItem onClick={this.handleMobileMenuClose}>\r\n                    <IconButton color=\"inherit\">\r\n                        <Badge badgeContent={11} color=\"secondary\">\r\n                        <NotificationsIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Notifications</p>\r\n                </MenuItem>\r\n                <MenuItem onClick={this.handleProfileMenuOpen}>\r\n                    <IconButton color=\"inherit\">\r\n                        <AccountCircle />\r\n                    </IconButton>\r\n                    <p>Profile</p>\r\n                </MenuItem>\r\n            </Menu>\r\n        );\r\n\r\n        return (\r\n            <div style={{ display: 'flex', justifyContent: 'center', flexDirection: 'column' }}>\r\n                <div className={classes.root}>\r\n                    <AppBar position=\"static\">\r\n                        <Toolbar>\r\n                            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Open drawer\">\r\n                                <MenuIcon />\r\n                            </IconButton>\r\n                            <Typography className={classes.title} variant=\"h6\" color=\"inherit\" noWrap>\r\n                                DashBoard112\r\n                            </Typography>\r\n                            <div className={classes.search}>\r\n                                <div className={classes.searchIcon}>\r\n                                    <SearchIcon />\r\n                                </div>\r\n                                <InputBase\r\n                                    placeholder=\"Search…\"\r\n                                    classes={{\r\n                                        root: classes.inputRoot,\r\n                                        input: classes.inputInput,\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className={classes.grow} />\r\n                            <div className={classes.sectionDesktop}>\r\n                                <IconButton color=\"inherit\">\r\n                                    <Badge badgeContent={4} color=\"secondary\">\r\n                                        <MailIcon />\r\n                                    </Badge>\r\n                                </IconButton>\r\n                                <IconButton color=\"inherit\">\r\n                                    <Badge badgeContent={17} color=\"secondary\">\r\n                                        <NotificationsIcon />\r\n                                    </Badge>\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    aria-owns={isMenuOpen ? 'material-appbar' : undefined}\r\n                                    aria-haspopup=\"true\"\r\n                                    onClick={this.handleProfileMenuOpen}\r\n                                    color=\"inherit\"\r\n                                >\r\n                                    <AccountCircle />\r\n                                </IconButton>\r\n                            </div>\r\n                            <div className={classes.sectionMobile}>\r\n                                <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen} color=\"inherit\">\r\n                                    <MoreIcon />\r\n                                </IconButton>\r\n                            </div>\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    {renderMenu}\r\n                    {renderMobileMenu}\r\n                </div>\r\n                <div>\r\n                    {this.renderDragact()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n(LayoutRestore as React.ComponentClass<Props>).propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n} as any;\r\n\r\nexport default withStyles(styles)(LayoutRestore);","import React, { Component } from 'react';\nimport LayoutRestore from \"./layout/LayoutRestore/index\";\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <LayoutRestore />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}